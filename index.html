<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kawaii Life Planner</title>
    <!-- Google Fonts: Zen Maru Gothic for rounded, cute text -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@400;500;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="app-container">
        <header>
            <h1>My Kawaii Plan ğŸ€</h1>
            <div id="countdownDisplay" class="countdown-box hidden">
                <!-- Count down will be injected here -->
            </div>
            <div class="current-date" id="currentDate">2026å¹´ 2æœˆ</div>
        </header>

        <main>
            <!-- Calendar Section -->
            <section class="calendar-wrapper">
                <div class="calendar-header">
                    <button id="prevMonth" class="nav-btn">â—€</button>
                    <h2 id="monthLabel">February</h2>
                    <button id="nextMonth" class="nav-btn">â–¶</button>
                </div>
                <div class="days-grid">
                    <div class="day-name sun">Sun</div>
                    <div class="day-name">Mon</div>
                    <div class="day-name">Tue</div>
                    <div class="day-name">Wed</div>
                    <div class="day-name">Thu</div>
                    <div class="day-name">Fri</div>
                    <div class="day-name sat">Sat</div>
                </div>
                <div class="calendar-grid" id="calendarGrid">
                    <!-- Days will be generated by JS -->
                </div>
            </section>

            <!-- Today's Schedule & To-Do -->
            <section class="daily-view">
                <h3>âœ¨ Today's Tasks âœ¨</h3>
                <div class="todo-input-group">
                    <input type="text" id="todoInput" placeholder="æ–°ã—ã„äºˆå®šã‚’è¿½åŠ ã—ã¦ã­...">
                    <button id="addTodoBtn">Add ğŸ’–</button>
                </div>
                <ul class="todo-list" id="todoList">
                    <!-- Tasks will act here -->
                </ul>
            </section>
        </main>

        <footer>
            <nav class="bottom-nav">
                <button class="nav-item active" id="navCalendar">ğŸ“…<br>Calendar</button>
                <button class="nav-item" id="navMemo">ğŸ“<br>Memo</button>
                <button class="nav-item" id="navSettings">âš™ï¸<br>Settings</button>
            </nav>
        </footer>
    </div>

    <!-- Celebration Overlay -->
    <div id="celebrationOverlay" class="celebration-overlay hidden">
        <div class="celebration-content">
            <span class="celebration-emoji">ğŸ‰</span>
            <h2 id="celebrartionMessage">ãˆã‚‰ã™ãï¼å¤©æ‰ï¼</h2>
        </div>
    </div>

    <!-- Settings Modal -->
    <div id="settingsModal" class="modal hidden">
        <div class="modal-content">
            <span class="close-btn" id="closeSettingsModal">&times;</span>
            <h3>Settings âš™ï¸</h3>

            <h4 class="section-title">æ¨ã—æ´»ã‚«ã‚¦ãƒ³ãƒˆãƒ€ã‚¦ãƒ³ ğŸ”¥</h4>

            <div class="input-group">
                <label>åˆ‡ã‚Šæ›¿ãˆæ™‚é–“ (ç§’)</label>
                <input type="number" id="countdownInterval" min="1" value="3">
            </div>

            <div id="countdownList" class="countdown-list">
                <!-- List of added countdowns will appear here -->
            </div>

            <div class="add-countdown-box">
                <div class="input-group">
                    <label>ä½•ã®ã‚¤ãƒ™ãƒ³ãƒˆï¼Ÿ</label>
                    <input type="text" id="newCountdownTitle" placeholder="ãƒ©ã‚¤ãƒ–ã€èª•ç”Ÿæ—¥...">
                </div>
                <div class="input-group">
                    <label>ã„ã¤ï¼Ÿ</label>
                    <input type="date" id="newCountdownDate">
                </div>
                <button id="addCountdownBtn" class="save-btn secondary">è¿½åŠ ã™ã‚‹ â•</button>
            </div>

            <h4 class="section-title" style="margin-top:20px;">ãƒ†ãƒ¼ãƒã‚«ãƒ©ãƒ¼ ğŸ¨</h4>
            <div class="theme-selector">
                <button class="theme-btn" data-theme="pink" style="background:#ffb7c5;">Pink</button>
                <button class="theme-btn" data-theme="blue" style="background:#a0e6ff;">Blue</button>
                <button class="theme-btn" data-theme="purple" style="background:#dcd0ff;">Purple</button>
                <button class="theme-btn" data-theme="black" style="background:#333; color:white;">Black</button>
                <button class="theme-btn" data-theme="mint" style="background:#98ff98;">Mint</button>
            </div>

            <h4 class="section-title" style="margin-top:20px;">èƒŒæ™¯ãƒ†ãƒ¼ãƒ (Z-Gen) âœ¨</h4>
            <div class="theme-selector">
                <button class="bg-btn" data-bg="" style="background:white; color:black;">åˆæœŸ</button>
                <button class="bg-btn" data-bg="aurora"
                    style="background:linear-gradient(120deg, #84fab0, #8fd3f4);">Aurora</button>
                <button class="bg-btn" data-bg="sunset"
                    style="background:linear-gradient(120deg, #f6d365, #fda085);">Sunset</button>
                <button class="bg-btn" data-bg="dream"
                    style="background:linear-gradient(120deg, #a18cd1, #fbc2eb);">Dream</button>
                <button class="bg-btn" data-bg="midnight"
                    style="background:linear-gradient(to top, #30cfd0, #330867); color:white;">Night</button>
            </div>

            <h4 class="section-title" style="margin-top:20px;">ãƒ‡ãƒ¼ã‚¿ç®¡ç† ğŸ’¾</h4>
            <div class="data-manage-box">
                <button id="backupBtn" class="save-btn" style="background:#4CAF50; margin-bottom:10px;">ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜ã™ã‚‹
                    (ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—) ğŸ“¥</button>

                <div class="restore-group">
                    <label>ãƒ‡ãƒ¼ã‚¿ã‚’å¾©å…ƒã™ã‚‹ ğŸ“¤</label>
                    <input type="file" id="restoreInput" accept=".json">
                    <button id="restoreBtn" class="save-btn" style="background:#FF9800; margin-top:5px;">å¾©å…ƒå®Ÿè¡Œ
                        ğŸ”¥</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal for details -->
    <div id="eventModal" class="modal hidden">
        <div class="modal-content">
            <span class="close-btn" id="closeEventModal">&times;</span>
            <h3 id="modalDate">Daily Detail</h3>
            <div class="input-group">
                <label>ã‚¤ãƒ™ãƒ³ãƒˆå (æœŸé–“äºˆå®š)</label>
                <input type="text" id="eventTitle" placeholder="æ—…è¡Œã€ãƒ†ã‚¹ãƒˆãªã©...">
            </div>
            <div class="input-group">
                <label>çµ‚äº†æ—¥</label>
                <input type="date" id="eventEndDate">
            </div>

            <h4 class="section-title">æ—¥è¨˜ãƒ»ã‚¹ã‚¿ãƒ³ãƒ—</h4>

            <div class="input-group">
                <label>ä»Šæ—¥ã®1æš ğŸ“¸</label>
                <div class="image-buttons">
                    <label class="upload-btn camera">
                        ğŸ“· ã‚«ãƒ¡ãƒ©èµ·å‹•
                        <input type="file" id="cameraInput" accept="image/*" capture="environment" style="display:none">
                    </label>
                    <label class="upload-btn gallery">
                        ğŸ–¼ï¸ ã‚¢ãƒ«ãƒãƒ 
                        <input type="file" id="galleryInput" accept="image/*" style="display:none">
                    </label>
                </div>
                <div id="imagePreviewContainer" class="hidden">
                    <img id="imagePreview" src="" alt="Preview">
                    <button id="removeImageBtn">ğŸ—‘ï¸</button>
                </div>
            </div>

            <textarea placeholder="ä»Šæ—¥ã®æ—¥è¨˜ã‚„è©³ç´°..."></textarea>

            <div class="stamp-section">
                <p>ã‚¹ã‚¿ãƒ³ãƒ—</p>
                <div class="stickers-selector" id="stickerSelector">
                    <span data-stamp="ğŸ§¸">ğŸ§¸</span>
                    <span data-stamp="ğŸ¨">ğŸ¨</span>
                    <span data-stamp="ğŸ°">ğŸ°</span>
                    <span data-stamp="ğŸ§">ğŸ§</span>
                    <span data-stamp="ğŸ«">ğŸ«</span>
                    <span data-stamp="ğŸ’¤">ğŸ’¤</span>
                    <span data-stamp="âœˆï¸">âœˆï¸</span>
                    <span data-stamp="ğŸ’¸">ğŸ’¸</span>
                    <span data-stamp="ğŸ¥">ğŸ¥</span>
                    <span data-stamp="ğŸ‚">ğŸ‚</span>
                    <span data-stamp="ğŸ’‘">ğŸ’‘</span>
                    <span data-stamp="ğŸ’…">ğŸ’…</span>
                </div>
            </div>
            <button id="saveEventBtn" class="save-btn">Save âœ¨</button>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        if ('serviceWorker' in navigator && (window.location.protocol === 'https:' || window.location.protocol === 'http:')) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./sw.js').catch(err => {
                    console.log('Service Worker registration failed:', err);
                });
            });
        }
    </script>
</body>

</html>